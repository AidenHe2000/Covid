<template>
    <div>

        <v-card>
            <v-card-title>
            <v-text-field v-model="srh" append-icon="mdi-magnify" label="Search" 
                single-line hide-details>
            </v-text-field>
            </v-card-title>
            <v-data-table :headers="headers" :items="medicine" :srh="search"></v-data-table>
        </v-card>



        生产厂家
        <select v-model="manufacturer">
            <option>任意</option>
            <option>白云</option>
            <option>葵花</option>
            <option>何氏</option>
            <option>徐氏</option>
            <option>周氏</option>
            <option>康泰克</option>
            <option>泰诺</option>
        </select>

        药物种类
        <select v-model="type">
            <option>任意</option>
            <option>中药</option>
            <option>西药</option>
        </select>
        
        <input type="text" v-model="name" placeholder="药名">&emsp;
        <input type="text" id="introduction" v-model="introduction" placeholder="药物介绍">&emsp;
        <input type="text" id="PAGE" v-model="pg" placeholder="显示页数" > &emsp;
        <input type="text" id="SIZE" v-model="len" placeholder="显示记录数">&emsp;

        <!-- <input type="button" value="search" @click="search()"><br> -->
        <table>
            

            <tr v-for="(item,index) in medicine" :key="index">
                <td>{{item.medicine_id}}</td>
                <td>{{item.medicine_name}}</td>
                <td>{{item.manufacturer}}</td>
                <td>{{item.introduction}}</td>
                <td>{{item.type}}</td>
            </tr>

        </table>
        
    </div>
</template>

<script>
export default {
    name:"Medicine",
    data()
    {
        return {
            srh: '',
            headers: [
                {
                    text: 'id',
                    align: 'start',
                    filterable: false,
                    value: 'medicine_id',
                },
                { text: '药物名称', value: 'medicine_name' },
                { text: '生产厂商', value: 'manufacturer' },
                { text: '药物介绍', value: 'introduction' },
                { text: '药物类型', value: 'type' },
                
            ],

            pg:1,
            len:10,
            name:"",
            manufacturer:"",
            introduction:"",
            type:"",
            medicine:[]
        }
    },
    
    created()
    {
        const that = this;
        
        axios.get("http://localhost:8181/medicine/getMedicineInfo",{params:{page:that.pg,size:that.len}}).
        then(function(res)
        {
            that.medicine=res.data.data;
        })
    },
    methods:
    {
        // search()
        // {
        //     const that = this;
            
        //     if(that.name=="任意")
        //         that.name=null;
            
        //     if(that.manufacturer=="任意")
        //         that.manufacturer=null;

        //     if(that.introduction=="任意")
        //         that.introduction=null;

        //     if(that.type=="任意")
        //         that.type=null;

        //     axios.get("http://localhost:8181/medicine/getMedicineInfo",{params:{name:that.name,manufacturer:that.manufacturer,introduction:that.introduction,type:that.type,page:this.pg,size:this.len}}).
        //     then(function(res)
        //     {
        //         that.medicine=res.data.data;
        //     })
        // },
    }
    
}
</script>





<style>
    /* .scroll
    {
        overflow-y:scroll;
        height：450px;
    } */
</style>